<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="staticContent/style.css">
<title>Local Game : Testing - Koda</title>
</head>
<body>
    <div class="starfield center">
<h1 id=NameRival>Testing VS Koda</h1>
    </div>
    <div class="gamefield center">
<table class=game>
<tr>
<th><table id="0|0" class=".smallField">
<tr>
<th id="0" onclick="clickHandler([0,0],[0,0],0)">X</th>
<th id="1" onclick="clickHandler([0,0],[0,1],1)"></th>
<th id="2" onclick="clickHandler([0,0],[0,2],2)"></th>
</tr>
<tr>
<th id="3" onclick="clickHandler([0,0],[1,0],3)"></th>
<th id="4" onclick="clickHandler([0,0],[1,1],4)">O</th>
<th id="5" onclick="clickHandler([0,0],[1,2],5)"></th>
</tr>
<tr>
<th id="6" onclick="clickHandler([0,0],[2,0],6)"></th>
<th id="7" onclick="clickHandler([0,0],[2,1],7)"></th>
<th id="8" onclick="clickHandler([0,0],[2,2],8)">X</th>
</tr>
</table></th>
<th><table id="0|1" class=".smallField">
<tr>
<th id="9" onclick="clickHandler([0,1],[0,0],9)"></th>
<th id="10" onclick="clickHandler([0,1],[0,1],10)"></th>
<th id="11" onclick="clickHandler([0,1],[0,2],11)"></th>
</tr>
<tr>
<th id="12" onclick="clickHandler([0,1],[1,0],12)"></th>
<th id="13" onclick="clickHandler([0,1],[1,1],13)">O</th>
<th id="14" onclick="clickHandler([0,1],[1,2],14)"></th>
</tr>
<tr>
<th id="15" onclick="clickHandler([0,1],[2,0],15)"></th>
<th id="16" onclick="clickHandler([0,1],[2,1],16)"></th>
<th id="17" onclick="clickHandler([0,1],[2,2],17)"></th>
</tr>
</table></th>
<th><table id="0|2" class=".smallField">
<tr>
<th id="18" onclick="clickHandler([0,2],[0,0],18)"></th>
<th id="19" onclick="clickHandler([0,2],[0,1],19)"></th>
<th id="20" onclick="clickHandler([0,2],[0,2],20)"></th>
</tr>
<tr>
<th id="21" onclick="clickHandler([0,2],[1,0],21)"></th>
<th id="22" onclick="clickHandler([0,2],[1,1],22)"></th>
<th id="23" onclick="clickHandler([0,2],[1,2],23)"></th>
</tr>
<tr>
<th id="24" onclick="clickHandler([0,2],[2,0],24)"></th>
<th id="25" onclick="clickHandler([0,2],[2,1],25)"></th>
<th id="26" onclick="clickHandler([0,2],[2,2],26)">O</th>
</tr>
</table></th>
</tr>
<tr>
<th><table id="1|0" class=".smallField">
<tr>
<th id="27" onclick="clickHandler([1,0],[0,0],27)"></th>
<th id="28" onclick="clickHandler([1,0],[0,1],28)"></th>
<th id="29" onclick="clickHandler([1,0],[0,2],29)"></th>
</tr>
<tr>
<th id="30" onclick="clickHandler([1,0],[1,0],30)">O</th>
<th id="31" onclick="clickHandler([1,0],[1,1],31)"></th>
<th id="32" onclick="clickHandler([1,0],[1,2],32)"></th>
</tr>
<tr>
<th id="33" onclick="clickHandler([1,0],[2,0],33)"></th>
<th id="34" onclick="clickHandler([1,0],[2,1],34)"></th>
<th id="35" onclick="clickHandler([1,0],[2,2],35)"></th>
</tr>
</table></th>
<th><table id="1|1" class=".smallField">
<tr>
<th id="36" onclick="clickHandler([1,1],[0,0],36)"></th>
<th id="37" onclick="clickHandler([1,1],[0,1],37)"></th>
<th id="38" onclick="clickHandler([1,1],[0,2],38)"></th>
</tr>
<tr>
<th id="39" onclick="clickHandler([1,1],[1,0],39)"></th>
<th id="40" onclick="clickHandler([1,1],[1,1],40)"></th>
<th id="41" onclick="clickHandler([1,1],[1,2],41)"></th>
</tr>
<tr>
<th id="42" onclick="clickHandler([1,1],[2,0],42)"></th>
<th id="43" onclick="clickHandler([1,1],[2,1],43)"></th>
<th id="44" onclick="clickHandler([1,1],[2,2],44)">O</th>
</tr>
</table></th>
<th><table id="1|2" class=".smallField">
<tr>
<th id="45" onclick="clickHandler([1,2],[0,0],45)"></th>
<th id="46" onclick="clickHandler([1,2],[0,1],46)"></th>
<th id="47" onclick="clickHandler([1,2],[0,2],47)">O</th>
</tr>
<tr>
<th id="48" onclick="clickHandler([1,2],[1,0],48)"></th>
<th id="49" onclick="clickHandler([1,2],[1,1],49)"></th>
<th id="50" onclick="clickHandler([1,2],[1,2],50)"></th>
</tr>
<tr>
<th id="51" onclick="clickHandler([1,2],[2,0],51)"></th>
<th id="52" onclick="clickHandler([1,2],[2,1],52)"></th>
<th id="53" onclick="clickHandler([1,2],[2,2],53)"></th>
</tr>
</table></th>
</tr>
<tr>
<th><table id="2|0" class=".smallField">
<tr>
<th id="54" onclick="clickHandler([2,0],[0,0],54)"></th>
<th id="55" onclick="clickHandler([2,0],[0,1],55)"></th>
<th id="56" onclick="clickHandler([2,0],[0,2],56)"></th>
</tr>
<tr>
<th id="57" onclick="clickHandler([2,0],[1,0],57)"></th>
<th id="58" onclick="clickHandler([2,0],[1,1],58)"></th>
<th id="59" onclick="clickHandler([2,0],[1,2],59)">O</th>
</tr>
<tr>
<th id="60" onclick="clickHandler([2,0],[2,0],60)"></th>
<th id="61" onclick="clickHandler([2,0],[2,1],61)"></th>
<th id="62" onclick="clickHandler([2,0],[2,2],62)"></th>
</tr>
</table></th>
<th><table id="2|1" class=".smallField">
<tr>
<th id="63" onclick="clickHandler([2,1],[0,0],63)"></th>
<th id="64" onclick="clickHandler([2,1],[0,1],64)"></th>
<th id="65" onclick="clickHandler([2,1],[0,2],65)"></th>
</tr>
<tr>
<th id="66" onclick="clickHandler([2,1],[1,0],66)"></th>
<th id="67" onclick="clickHandler([2,1],[1,1],67)"></th>
<th id="68" onclick="clickHandler([2,1],[1,2],68)"></th>
</tr>
<tr>
<th id="69" onclick="clickHandler([2,1],[2,0],69)">O</th>
<th id="70" onclick="clickHandler([2,1],[2,1],70)"></th>
<th id="71" onclick="clickHandler([2,1],[2,2],71)"></th>
</tr>
</table></th>
<th><table id="2|2" class=".smallField">
<tr>
<th id="72" onclick="clickHandler([2,2],[0,0],72)"></th>
<th id="73" onclick="clickHandler([2,2],[0,1],73)"></th>
<th id="74" onclick="clickHandler([2,2],[0,2],74)"></th>
</tr>
<tr>
<th id="75" onclick="clickHandler([2,2],[1,0],75)"></th>
<th id="76" onclick="clickHandler([2,2],[1,1],76)">X</th>
<th id="77" onclick="clickHandler([2,2],[1,2],77)"></th>
</tr>
<tr>
<th id="78" onclick="clickHandler([2,2],[2,0],78)"></th>
<th id="79" onclick="clickHandler([2,2],[2,1],79)"></th>
<th id="80" onclick="clickHandler([2,2],[2,2],80)"></th>
</tr>
</table></th>
</tr>
</table>
    </div>
<script>
   var gameType = "Local";
   var currentPlayer = "X";
   var lastMove = [0,0];
   var playerFigures = ["X","O"];
   var spotLight ="#43a5b2";
   document.getElementById(lastMove[0] + "|" + lastMove[1]).style = "background-color: " + spotLight + ";"
</script>
    <script>
        const clickHandler = (bigField, smallField, id) => {
            var clickedField = document.getElementById(id);
            if(clickedField.innerHTML != "" || ! isEqualsArray(bigField, lastMove)){
                return;
            }

            switch(gameType) {
                case "Local":
                    clickedField.innerHTML = currentPlayer;
                    currentPlayer = (currentPlayer == playerFigures[0]) ? playerFigures[1] : playerFigures[0];
                    break;
                case "Bot":
                    // code block
                    break;
                case "Online":
                    // code block
                    break;
            }

            document.getElementById(lastMove[0] + "|" + lastMove[1]).style = "background-color: none;"
            lastMove = smallField;
            document.getElementById(lastMove[0] + "|" + lastMove[1]).style = "background-color: " + spotLight + ";"
            // Send lastMove and playerchange to Server

        }

        const isEqualsArray = (arrA, arrB) => {
            if (arrA.length != arrB.length) {
                return false; 
            }
            let isSameAll = arrA.every((valueA, indexA) => valueA == arrB[indexA]);
            return isSameAll;
        }
    </script>
</body>
